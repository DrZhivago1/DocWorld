<Patch>

    <!--This file will contain all stone chunk furniture. Current: rock chair, 1x1 rock table-->

    <!--==========
    VANILLA
    ==========-->
    <!--Create Chunk category and let chunks become buildable-->
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs</xpath>
        <value>
            <StuffCategoryDef>
                <defName>DZ_StoneChunks</defName>
                <label>stone chunks</label>
            </StuffCategoryDef>
        </value>
    </Operation>

    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationTest">
                <xpath>/Defs/ThingDef[@Name="ChunkRockBase"]/stuffProps</xpath>
                <success>Invert</success>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[@Name="ChunkRockBase"]</xpath>
                <value>
                    <stuffProps>
                        <categories/>
                    </stuffProps>
                </value>
            </li>
        </operations>
    </Operation>

    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[@Name="ChunkRockBase"]/stuffProps/categories</xpath>
        <value>
            <li>DZ_StoneChunks</li>
        </value>
    </Operation>

    <!--I tried for a retarded amount of time to not have to change the stats of chunks, but could not get it to function without alterations. If someone figures out how to make these edits below obsolete, let me know.-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[@Name="ChunkRockBase"]/stuffProps</xpath>
                <value>
                    <soundImpactStuff>BulletImpact_Ground</soundImpactStuff>
                    <soundMeleeHitSharp>MeleeHit_Stone</soundMeleeHitSharp>
                    <soundMeleeHitBlunt>MeleeHit_Stone</soundMeleeHitBlunt>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ChunkGranite"]</xpath>
                <value>
                    <resourceReadoutPriority>Middle</resourceReadoutPriority>
                    <stuffProps>
                        <color>(105,95,97)</color>
                        <stuffAdjective>granite</stuffAdjective>
                        <statFactors>
                            <MarketValue>0.5</MarketValue>
                            <MaxHitPoints>1.7</MaxHitPoints>
                            <WorkToBuild>5.25</WorkToBuild>
                        </statFactors>
                    </stuffProps>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ChunkSlate"]</xpath>
                <value>
                    <resourceReadoutPriority>Middle</resourceReadoutPriority>
                    <stuffProps>
                        <color>(70,70,70)</color>
                        <stuffAdjective>slate</stuffAdjective>
                        <statFactors>
                            <Beauty>0.8</Beauty>
                            <MarketValue>0.38</MarketValue>
                            <MaxHitPoints>1.3</MaxHitPoints>
                            <WorkToBuild>4.5</WorkToBuild>
                        </statFactors>
                    </stuffProps>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ChunkLimestone"]</xpath>
                <value>
                    <resourceReadoutPriority>Middle</resourceReadoutPriority>
                    <stuffProps>
                        <color>(158,153,135)</color>
                        <stuffAdjective>limestone</stuffAdjective>
                        <statFactors>
                            <MarketValue>0.4</MarketValue>
                            <MaxHitPoints>1.55</MaxHitPoints>
                            <WorkToBuild>4.8</WorkToBuild>
                        </statFactors>
                    </stuffProps>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ChunkMarble"]</xpath>
                <value>
                    <resourceReadoutPriority>Middle</resourceReadoutPriority>
                    <stuffProps>
                        <color>(132,135,132)</color>
                        <stuffAdjective>marble</stuffAdjective>
                        <statFactors>
                            <Beauty>1.35</Beauty>
                            <MarketValue>0.45</MarketValue>
                            <MaxHitPoints>1.2</MaxHitPoints>
                            <WorkToBuild>5.5</WorkToBuild>
                            <WorkToMake>1.15</WorkToMake>
                        </statFactors>
                    </stuffProps>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ChunkSandstone"]</xpath>
                <value>
                    <resourceReadoutPriority>Middle</resourceReadoutPriority>
                    <stuffProps>
                        <color>(126,104,94)</color>
                        <stuffAdjective>sandstone</stuffAdjective>
                        <statFactors>
                            <Beauty>1.1</Beauty>
                            <MarketValue>0.4</MarketValue>
                            <MaxHitPoints>1.4</MaxHitPoints>
                            <WorkToBuild>5.0</WorkToBuild>
                            <WorkToMake>1.1</WorkToMake>
                        </statFactors>
                    </stuffProps>
                </value>
            </li>
        </operations>
    </Operation>

    <!--Create Furniture-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <!--Table-->
            <li Class="PatchOperationAdd">
                <xpath>/Defs</xpath>
                <value>
                    <ThingDef ParentName="TableBase">
                        <defName>DZ_RockTable</defName>
                        <label>rock table</label>
                        <graphicData>
                            <texPath>Original_Content/Rock_Table/DZ_RockTable</texPath>
                            <graphicClass>Graphic_Multi</graphicClass>
                            <drawSize>(2,2)</drawSize>
                            <damageData>
                                <cornerTL>Damage/Corner</cornerTL>
                                <cornerTR>Damage/Corner</cornerTR>
                                <cornerBL>Damage/Corner</cornerBL>
                                <cornerBR>Damage/Corner</cornerBR>
                            </damageData>
                        </graphicData>
                        <uiIconScale>0.8</uiIconScale>
                        <stuffCategories Inherit="False">
                            <li>DZ_StoneChunks</li>
                        </stuffCategories>
                        <costStuffCount>2</costStuffCount>
                        <costList Inherit="False" />
                        <statBases>
                            <MaxHitPoints>350</MaxHitPoints>
                            <WorkToBuild>500</WorkToBuild>
                            <Mass>50</Mass>
                            <Flammability>0</Flammability>
                            <Beauty>-5</Beauty>
                            <Cleanliness>-3</Cleanliness>
                        </statBases>
                        <fillPercent>0.50</fillPercent>
                        <comps Inherit="False">
                            <li>
                                <compClass>CompGatherSpot</compClass>
                            </li>
                        </comps>
                        <size>(1,1)</size>
                        <researchPrerequisites Inherit="False" />
                    </ThingDef>
                    <!--Chair-->
                    <ThingDef ParentName="FurnitureBase">
                        <defName>DZ_RockChair</defName>
                        <label>rock chair</label>
                        <description>A simple platform on which to sit. Not very comfortable, but much better than nothing. Can be used at tables, work stations, and elsewhere.</description>
                        <graphicData>
                            <texPath>Things/Item/Chunk/ChunkStone</texPath>
                            <graphicClass>Graphic_Random</graphicClass>
                            <damageData Inherit="False" />
                            <shadowData>
                                <volume>(0, 0, 0)</volume>
                            </shadowData>
                        </graphicData>
                        <uiIconScale>0.69</uiIconScale>
                        <altitudeLayer>Building</altitudeLayer>
                        <statBases>
                            <MaxHitPoints>300</MaxHitPoints>
                            <WorkToBuild>250</WorkToBuild>
                            <Mass>25</Mass>
                            <Flammability>0</Flammability>
                            <Beauty>-3</Beauty>
                            <Cleanliness>-2</Cleanliness>
                            <Comfort>-1</Comfort>
                        </statBases>
                        <socialPropernessMatters>true</socialPropernessMatters>
                        <stuffCategories Inherit="False">
                            <li>DZ_StoneChunks</li>
                        </stuffCategories>
                        <costStuffCount>1</costStuffCount>
                        <costList Inherit="False" />
                        <pathCost>42</pathCost>
                        <designationHotKey>Misc6</designationHotKey>
                        <fillPercent>0.50</fillPercent>
                        <building>
                            <isSittable>true</isSittable>
                        </building>
                        <tradeability>None</tradeability>
                    </ThingDef>
                </value>
            </li>
        </operations>
    </Operation>

</Patch>