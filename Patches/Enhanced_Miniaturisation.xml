<Patch>
    <!--This file will contain all patches that replace/change the ability to miniaturize objects for Vanilla and Mods-->

    <!--==========
    VANILLA
    ==========-->

    <!--Torch_Lamp-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "TorchLamp"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "TorchLamp"]/statBases</xpath>
                <value>
                    <Mass>5</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--CommsConsole-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "CommsConsole"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "CommsConsole"]/statBases</xpath>
                <value>
                    <Mass>30</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--GroundPenetratingScanner-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "GroundPenetratingScanner"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "GroundPenetratingScanner"]/statBases</xpath>
                <value>
                    <Mass>100</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--LongRangeMineralScanner-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "LongRangeMineralScanner"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "LongRangeMineralScanner"]/statBases</xpath>
                <value>
                    <Mass>250</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--MoisturePump-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "MoisturePump"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "MoisturePump"]/statBases</xpath>
                <value>
                    <Mass>20</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--MultiAnalyzer-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "MultiAnalyzer"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "MultiAnalyzer"]/statBases</xpath>
                <value>
                    <Mass>50</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--OrbitalTradeBeacon-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "OrbitalTradeBeacon"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "OrbitalTradeBeacon"]/statBases</xpath>
                <value>
                    <Mass>10</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--PodLauncher-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "PodLauncher"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "PodLauncher"]/statBases</xpath>
                <value>
                    <Mass>50</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--Sarcophagus-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Sarcophagus"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Sarcophagus"]/statBases</xpath>
                <value>
                    <Mass>20</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--ChemfuelPoweredGenerator-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ChemfuelPoweredGenerator"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ChemfuelPoweredGenerator"]/statBases</xpath>
                <value>
                    <Mass>150</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--PowerSwitch-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "PowerSwitch"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "PowerSwitch"]/statBases</xpath>
                <value>
                    <Mass>10</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--SolarGenerator-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "SolarGenerator"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "SolarGenerator"]/statBases</xpath>
                <value>
                    <Mass>300</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--WindTurbine-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "WindTurbine"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "WindTurbine"]/statBases</xpath>
                <value>
                    <Mass>500</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--WoodFiredGenerator-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "WoodFiredGenerator"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "WoodFiredGenerator"]/statBases</xpath>
                <value>
                    <Mass>150</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--BiofuelRefinery, FabricationBench, HiTechResearchBench-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationReplace">
                <xpath>/Defs/ThingDef[defName = "BiofuelRefinery" or defName = "FabricationBench" or defName = "HiTechResearchBench"]/minifiedDef</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "BiofuelRefinery" or defName = "FabricationBench" or defName = "HiTechResearchBench"]/thingCategories[not(BuildingsProduction)]</xpath>
                <value>
                    <li>BuildingsProduction</li>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "BiofuelRefinery" or defName = "FabricationBench" or defName = "HiTechResearchBench"]/statBases[not(Mass)]</xpath>
                <value>
                    <Mass>100</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--ElectricCrematorium-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ElectricCrematorium"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "ElectricCrematorium"]/statBases</xpath>
                <value>
                    <Mass>150</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--Hopper-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Hopper"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Hopper"]/statBases</xpath>
                <value>
                    <Mass>10</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--HydroponicsBasin-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "HydroponicsBasin"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "HydroponicsBasin"]/statBases</xpath>
                <value>
                    <Mass>30</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--Cooler-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Cooler"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Cooler"]/statBases</xpath>
                <value>
                    <Mass>10</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--PassiveCooler-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "PassiveCooler"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "PassiveCooler"]/statBases</xpath>
                <value>
                    <Mass>10</Mass>
                </value>
            </li>
        </operations>
    </Operation>
    <!--Vent-->
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Vent"][not(minifiedDef)]</xpath>
                <value>
                    <minifiedDef>MinifiedThing</minifiedDef>
                    <thingCategories>
                        <li>BuildingsMisc</li>
                    </thingCategories>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName = "Vent"]/statBases</xpath>
                <value>
                    <Mass>10</Mass>
                </value>
            </li>
        </operations>
    </Operation>

    <!--==========
    High Tech Laboratory Facilities (Continued)
    ==========-->

    <!--LabStation, LabTerminal-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>High Tech Laboratory Facilities (Continued)</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="LabStation" or defName="LabTerminal"]</xpath>
                    <value>
                        <minifiedDef>MinifiedThing</minifiedDef>
                        <thingCategories>
                            <li>BuildingsMisc</li>
                        </thingCategories>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="LabStation" or defName="LabTerminal"]/statBases</xpath>
                    <value>
                        <Mass>20</Mass>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Medical Training
    ==========-->

    <!--IF_MeditrainTable-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Medical Training</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName = "IF_MeditrainTable"]</xpath>
                    <value>
                        <minifiedDef>MinifiedThing</minifiedDef>
                        <thingCategories>
                            <li>BuildingsMisc</li>
                        </thingCategories>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName = "IF_MeditrainTable"]/statBases</xpath>
                    <value>
                        <Mass>20</Mass>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    More Linkables
    ==========-->

    <!--SurgicalLamp, SurgicalInstruments-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>More Linkables</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="SurgicalLamp" or defName = "SurgicalInstruments"]</xpath>
                    <value>
                        <minifiedDef>MinifiedThing</minifiedDef>
                        <thingCategories>
                            <li>BuildingsMisc</li>
                        </thingCategories>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="SurgicalLamp" or defName = "SurgicalInstruments"]/statBases</xpath>
                    <value>
                        <Mass>5</Mass>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

</Patch>