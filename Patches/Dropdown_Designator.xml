<Patch>
    <!--This file will contain all patches that replace/change dropdown menus for Vanilla and Mods. Split between Conditional Vanilla patches and Non-Conditional patches-->

    <!--==============================
            Conditional Section
    ==============================-->

    <!--==========
    VANILLA
    ==========-->

    <!--Battery-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>[SYR] Metallic Batteries</li>
            <li>RimPlas</li>
            <li>Vanilla Furniture Expanded - Power</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Power_Battery</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationConditional">
                    <xpath>/Defs/ThingDef[defName="Battery"]/designatorDropdown</xpath>
                    <match Class="PatchOperationReplace">
                        <xpath>/Defs/ThingDef[defName="Battery"]/designatorDropdown</xpath>
                        <value>
                            <designatorDropdown>DZ_Power_Battery</designatorDropdown>
                        </value>
                    </match>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>/Defs/ThingDef[defName="Battery"]</xpath>
                        <value>
                            <designatorDropdown>DZ_Power_Battery</designatorDropdown>
                        </value>
                    </nomatch>
                </li>
            </operations>
        </match>
    </Operation>

    <!--Coolers-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vanilla Furniture Expanded - Power</li>
            <li>RimPlas</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Temp_Cooler</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationConditional">
                    <xpath>/Defs/ThingDef[defName="Cooler"]/designatorDropdown</xpath>
                    <match Class="PatchOperationReplace">
                        <xpath>/Defs/ThingDef[defName="Cooler"]/designatorDropdown</xpath>
                        <value>
                            <designatorDropdown>DZ_Temp_Cooler</designatorDropdown>
                        </value>
                    </match>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>/Defs/ThingDef[defName="Cooler"]</xpath>
                        <value>
                            <designatorDropdown>DZ_Temp_Cooler</designatorDropdown>
                        </value>
                    </nomatch>
                </li>
            </operations>
        </match>
    </Operation>

    <!--Geothermal Generators-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>RimPlas</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Power_Geothermal</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="GeothermalGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Geothermal</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--Heaters-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Alpha Biomes</li>
            <li>Vanilla Furniture Expanded - Power</li>
            <li>Vanilla Factions Expanded - Settlers</li>
            <li>RimPlas</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Temp_Heater</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationConditional">
                    <xpath>/Defs/ThingDef[defName="Heater"]/designatorDropdown</xpath>
                    <match Class="PatchOperationReplace">
                        <xpath>/Defs/ThingDef[defName="Heater"]/designatorDropdown</xpath>
                        <value>
                            <designatorDropdown>DZ_Temp_Heater</designatorDropdown>
                        </value>
                    </match>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>/Defs/ThingDef[defName="Heater"]</xpath>
                        <value>
                            <designatorDropdown>DZ_Temp_Heater</designatorDropdown>
                        </value>
                    </nomatch>
                </li>
            </operations>
        </match>
    </Operation>

    <!--Solar Generators-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Alpha Biomes</li>
            <li>RimPlas</li>
            <li>Smokeleaf Industry Reborn</li>
            <li>Vanilla Furniture Expanded - Power</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Power_Solar</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="SolarGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Solar</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--Transport Pod-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Sparkling Worlds - Full Mod</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Misc_Pod</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationConditional">
                    <xpath>/Defs/ThingDef[defName="TransportPod"]/designatorDropdown</xpath>
                    <match Class="PatchOperationReplace">
                        <xpath>/Defs/ThingDef[defName="TransportPod"]/designatorDropdown</xpath>
                        <value>
                            <designatorDropdown>DZ_Misc_Pod</designatorDropdown>
                        </value>
                    </match>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>/Defs/ThingDef[defName="TransportPod"]</xpath>
                        <value>
                            <designatorDropdown>DZ_Misc_Pod</designatorDropdown>
                        </value>
                    </nomatch>
                </li>
            </operations>
        </match>
    </Operation>

    <!--Wind Generators-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>RimPlas</li>
            <li>Vanilla Furniture Expanded - Power</li>
            <li>Vanilla Factions Expanded - Settlers</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Power_Wind</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="WindTurbine"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Wind</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==============================
            Non-Conditional Section
    ==============================-->

    <!--==========
    VANILLA
    ==========-->

    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <!--Generators-->
            <li Class="PatchOperationAdd">
                <xpath>/Defs</xpath>
                <value>
                    <DesignatorDropdownGroupDef>
                        <defName>DZ_Power_Generator</defName>
                    </DesignatorDropdownGroupDef>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName="WoodFiredGenerator" or defName="ChemfuelPoweredGenerator"]</xpath>
                <value>
                    <designatorDropdown>DZ_Power_Generator</designatorDropdown>
                </value>
            </li>
            <!--IEDs-->
            <li Class="PatchOperationAdd">
                <xpath>/Defs</xpath>
                <value>
                    <DesignatorDropdownGroupDef>
                        <defName>DZ_IEDs</defName>
                    </DesignatorDropdownGroupDef>
                </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[@Name="TrapIEDBase"][not(designatorDropdown)]</xpath>
                <value>
                    <designatorDropdown>DZ_IEDs</designatorDropdown>
                </value>
            </li>
            <!--Power Conduits-->
            <li Class="PatchOperationAdd">
                <xpath>/Defs/ThingDef[defName="PowerConduit"][not(designatorDropdown)]</xpath>
                <value>
                    <designatorDropdown>DZ_PowerConduits</designatorDropdown>
                </value>
            </li>
            <!--Standing Lamps-->
            <li Class="PatchOperationAdd">
                <xpath>/Defs</xpath>
                <value>
                    <DesignatorDropdownGroupDef>
                        <defName>DZ_Lighting_StandingLamp</defName>
                    </DesignatorDropdownGroupDef>
                </value>
            </li>
            <li Class="PatchOperationSequence">
                <success>Always</success>
                <operations>
                    <li Class="PatchOperationAdd">
                        <xpath>/Defs/ThingDef[defName="StandingLamp"]</xpath>
                        <value>
                            <designatorDropdown>DZ_Lighting_StandingLamp</designatorDropdown>
                        </value>
                    </li>
                    <li Class="PatchOperationReplace">
                        <xpath>/Defs/ThingDef[defName="StandingLamp_Red" or defName="StandingLamp_Green" or defName="StandingLamp_Blue"]/designatorDropdown</xpath>
                        <value>
                            <designatorDropdown>DZ_Lighting_StandingLamp</designatorDropdown>
                        </value>
                    </li>
                </operations>
            </li>
        </operations>
    </Operation>

    <!--==========
    Alpha Biomes
    ==========-->

    <!--AB_AlcyoniteSolar, AB_PropaneHeater-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Alpha Biomes</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="AB_AlcyoniteSolar"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Solar</designatorDropdown>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="AB_PropaneHeater"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Temp_Heater</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Dubs Bad Hygiene
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Dubs Bad Hygiene</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>
                <!--Water heaters-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_DBH_WaterHeaters</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="LogBoiler" or defName="GasBoiler" or defName="ElectricBoiler" or defName="SolarHeater"]</xpath>
                    <value>
                        <designatorDropdown>DZ_DBH_WaterHeaters</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Fertile Fields
    ==========-->

    <!--RFF_ScrapGenerator-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Fertile Fields [1.1]</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RFF_ScrapGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Generator</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Fishing Nets
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Fishing Nets</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Husbandry_FishingNets</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="GTF_FishingNetBase"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Husbandry_FishingNets</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Floored
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Floored [1.0+]</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FlooredSecurity</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/TerrainDef[defName="StripedTile" or defName="YellowTile"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FlooredSecurity</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Floor Lights
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Floor Lights</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <!--Square-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightSquare</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightSquare"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightSquare</designatorDropdown>
                    </value>
                </li>
                <!--Stripe-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightStripe</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightStripe"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightStripe</designatorDropdown>
                    </value>
                </li>
                <!--Small Stripe-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightSmallStripe</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightSmallStripe"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightSmallStripe</designatorDropdown>
                    </value>
                </li>
                <!--Plus-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightPlus</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightPlus"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightPlus</designatorDropdown>
                    </value>
                </li>
                <!--Corner-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightCorner</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightCorner"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightCorner</designatorDropdown>
                    </value>
                </li>
                <!--Inverse Corner-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightInverseCorner</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightInverseCorner"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightInverseCorner</designatorDropdown>
                    </value>
                </li>
                <!--Inverse Corner Small-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightInverseCornerSmall</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightInverseCornerSmall"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightInverseCornerSmall</designatorDropdown>
                    </value>
                </li>
                <!--Corner Small-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightCornerSmall</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightCornerSmall"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightCornerSmall</designatorDropdown>
                    </value>
                </li>
                <!--Triangle-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightTriangle</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightTriangle"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightTriangle</designatorDropdown>
                    </value>
                </li>
                <!--Small Stripe-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightSmallStripeMiddle</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightSmallStripeMiddle"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightSmallStripeMiddle</designatorDropdown>
                    </value>
                </li>
                <!--Small Stripe Diagonal-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_FloorLightSmallStripeDiagonal</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="FloorLightSmallStripeDiagonal"]</xpath>
                    <value>
                        <designatorDropdown>DZ_FloorLightSmallStripeDiagonal</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Genetic Rim
    ==========-->

    <!--GR_CryostabilizedEngine-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Genetic Rim</li>
        </mods>
        <match Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="GR_CryostabilizedEngine"]</xpath>
            <value>
                <designatorDropdown>DZ_Power_Generator</designatorDropdown>
            </value>
        </match>
    </Operation>

    <!--==========
    Glass+Lights
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Glass+Lights</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <!--Cieling Lamps-->
                <li Class="PatchOperationConditional">
                    <xpath>/Defs/ThingDef[defName="GLCeilingLamp"]/designatorDropdown</xpath>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>/Defs/ThingDef[defName="GLCeilingLamp"]</xpath>
                        <value>
                            <designatorDropdown>CeilingLights</designatorDropdown>
                        </value>
                    </nomatch>
                </li>
                <!--FueledGlassworkTable, GlassworkTable, ReinforcedGlassworkTable-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_GL_Glassworks</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="FueledGlassworkTable" or defName="GlassworkTable" or defName="ReinforcedGlassworkTable"]</xpath>
                    <value>
                        <designatorDropdown>DZ_GL_Glassworks</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    JetPack
    ==========-->

    <!--JPKerosene_Generator-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>JetPack</li>
        </mods>
        <match Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="JPKerosene_Generator"]</xpath>
            <value>
                <designatorDropdown>DZ_Power_Generator</designatorDropdown>
            </value>
        </match>
    </Operation>

    <!--==========
    Large Animal Beds
    ==========-->

    <!--Sleeping Spots-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Large Animal Beds</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Animals_LargeAnimalSpot</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="AnimalSleepingSpot" or defName="CCPMAnimalSleepingSpot" or defName="CCPLAnimalSleepingSpot"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Animals_LargeAnimalSpot</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Mechalit Core
    ==========-->

    <!--Lamp-pots-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Mechalit Core 1.1</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_LampPots_Mechalit</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="Lamp-pot" or @Name="Lamp-potBase"][not(designatorDropdown)]</xpath>
                    <value>
                        <designatorDropdown>DZ_LampPots_Mechalit</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Metallic Batteries
    ==========-->

    <!--Battery_Silver, Battery_Gold, Battery_Plasteel, Battery_Uranium, Battery_Advanced, Battery_Vanometric-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>[SYR] Metallic Batteries</li>
        </mods>
        <match Class="PatchOperationReplace">
            <xpath>/Defs/ThingDef[defName="Battery_Silver" or defName="Battery_Gold" or defName="Battery_Plasteel" or defName="Battery_Uranium" or defName="Battery_Advanced" or defName="Battery_Vanometric"]/designatorDropdown</xpath>
            <value>
                <designatorDropdown>DZ_Power_Battery</designatorDropdown>
            </value>
        </match>
    </Operation>

    <!--==========
    More Furniture [1.1]
    ==========-->

    <!--Groups the "More Furniture" carpet with the vanilla carpet-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>More Furniture [1.1]</li>
        </mods>
        <match Class="PatchOperationAttributeSet">
            <xpath>/Defs/TerrainDef[@ParentName="Anon2CarpetBase"]</xpath>
            <attribute>ParentName</attribute>
            <value>CarpetBase</value>
        </match>
    </Operation>

    <!--==========
    Rim of Madness - Bones
    ==========-->

    <!--Moves Floors into a single designation tile-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Rim of Madness - Bones</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Floor_Bones</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/TerrainDef[defName="BoneFloor" or defName="BoneFloor_Blackened" or defName="BoneChinaFloor" or defName="BoneFloor_Ashen" or defName="BoneFloor_Tile"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Floor_Bones</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    RIMkea
    ==========-->

    <!--Shainbrait, Kageshain-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>RIMkea</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Lighting_SHAINBRAIT</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="RIKMilleniumLampBase"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Lighting_SHAINBRAIT</designatorDropdown>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Lighting_KAGESHAIN</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[@Name="RIKFleaLampBase"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Lighting_KAGESHAIN</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    RimPlas
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>RimPlas</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <!--RPGrapheneSolarGenerator, RPSmallGrapheneSolarGenerator-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGrapheneSolarGenerator" or defName="RPSmallGrapheneSolarGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Solar</designatorDropdown>
                    </value>
                </li>
                <!--RPGrapheneGeoGenerator-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGrapheneGeoGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Geothermal</designatorDropdown>
                    </value>
                </li>
                <!--RPGrapheneWindTurbine-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGrapheneWindTurbine"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Wind</designatorDropdown>
                    </value>
                </li>
                <!--RPGrapheneBattery, RPSmallGrapheneBattery-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGrapheneBattery" or defName="RPSmallGrapheneBattery"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Battery</designatorDropdown>
                    </value>
                </li>
                <!--RPGrapheneHeater-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGrapheneHeater"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Temp_Heater</designatorDropdown>
                    </value>
                </li>
                <!--RPGrapheneCooler-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGrapheneCooler"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Temp_Cooler</designatorDropdown>
                    </value>
                </li>
                <!--RimPlas_InjMldMachine, RimPlas_AdvInjMld-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_RP_IMM</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RimPlas_InjMldMachine" or defName="RimPlas_AdvInjMld"]</xpath>
                    <value>
                        <designatorDropdown>DZ_RP_IMM</designatorDropdown>
                    </value>
                </li>
                <!--RPGraphenePowerConduit, RPUndGrapheneConduit, RPGraphenePowerConduit_Buried
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGraphenePowerConduit" or defName="RPUndGrapheneConduit"]</xpath>
                    <value>
                        <designatorDropdown>DZ_PowerConduits</designatorDropdown>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="RPGraphenePowerConduit_Buried"]</xpath>
                    <value>
                        <designatorDropdown Inherit="false" />
                    </value>
                </li>-->
            </operations>
        </match>
    </Operation>

    <!--==========
    Smokeleaf Industry Reborn
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Smokeleaf Industry Reborn</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <!--HempolineGenerator-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="HempolineGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Generator</designatorDropdown>
                    </value>
                </li>
                <!--HempSolarGenerator-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="HempSolarGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Solar</designatorDropdown>
                    </value>
                </li>
                <!--HempPowerConduit-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="HempPowerConduit"]</xpath>
                    <value>
                        <designatorDropdown>DZ_PowerConduits</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Sparkling Worlds - Full Mod
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Sparkling Worlds - Full Mod</li>
        </mods>
        <!--BeamCannonSatellitePodSW, KineticBombardmentSatellitePodSW-->
        <match Class="PatchOperationAdd">
            <xpath>/Defs/ThingDef[defName="BeamCannonSatellitePodSW" or defName="KineticBombardmentSatellitePodSW"]</xpath>
            <value>
                <designatorDropdown>DZ_Misc_Pod</designatorDropdown>
            </value>
        </match>
    </Operation>

    <!--==========
    Vanilla Furniture Expanded - Power
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vanilla Furniture Expanded - Power</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <!--VFE_PortableWoodFiredGenerator, VFE_PortableChemfuelPoweredGenerator, VFE_IndustrialWoodFiredGenerator, VFE_IndustrialChemfuelPoweredGenerator, VPE_HelixienGenerator, VPE_IndustrialHelixienGenerator-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VFE_PortableWoodFiredGenerator" or defName="VFE_PortableChemfuelPoweredGenerator" or defName="VFE_IndustrialWoodFiredGenerator" or defName="VFE_IndustrialChemfuelPoweredGenerator" or defName="VPE_HelixienGenerator" or defName="VPE_IndustrialHelixienGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Generator</designatorDropdown>
                    </value>
                </li>
                <!--VFE_AdvancedSolarGenerator-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VFE_AdvancedSolarGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Solar</designatorDropdown>
                    </value>
                </li>
                <!--VFE_AdvancedWindTurbine-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VFE_AdvancedWindTurbine"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Wind</designatorDropdown>
                    </value>
                </li>
                <!--VFE_LargeBattery, VFE_SmallBattery, VFE_AdvancedBattery, VFE_LargeAdvancedBattery-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VFE_LargeBattery" or defName="VFE_SmallBattery" or defName="VFE_AdvancedBattery" or defName="VFE_LargeAdvancedBattery"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Battery</designatorDropdown>
                    </value>
                </li>
                <!--VPE_GasHeater-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VPE_GasHeater"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Temp_Heater</designatorDropdown>
                    </value>
                </li>
                <!--VPE_GasCooler-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VPE_GasCooler"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Temp_Cooler</designatorDropdown>
                    </value>
                </li>
                <!--VPE_GasPipe, VPE_GasPipeSub-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_VPE_GasPipe</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="VPE_GasPipe" or defName="VPE_GasPipeSub"]</xpath>
                    <value>
                        <designatorDropdown>DZ_VPE_GasPipe</designatorDropdown>
                    </value>
                </li>
                <!--Watermill-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <DesignatorDropdownGroupDef>
                            <defName>DZ_Power_Watermill</defName>
                        </DesignatorDropdownGroupDef>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="WatermillGenerator" or defName="VFE_AdvancedWatermillGenerator"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Watermill</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

    <!--==========
    Vanilla Factions Expanded - Settlers
    ==========-->

    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vanilla Factions Expanded - Settlers</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <!--Chemboiler-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="ChemBoiler"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Temp_Heater</designatorDropdown>
                    </value>
                </li>
                <!--Windmill-->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="Windmill"]</xpath>
                    <value>
                        <designatorDropdown>DZ_Power_Wind</designatorDropdown>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>

</Patch>